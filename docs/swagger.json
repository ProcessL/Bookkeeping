{
    "swagger": "2.0",
    "info": {
        "description": "使用gin+vue进行极速开发的全栈开发基础平台",
        "title": "GoGoFly Swagger API接口文档",
        "contact": {},
        "version": "v1.0.1"
    },
    "paths": {
        "/api/v1/auth/user/addUser": {
            "post": {
                "description": "用户注册详细描述",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "用户模块"
                ],
                "summary": "添加用户",
                "parameters": [
                    {
                        "description": "username",
                        "name": "username",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/dto.AddUserDto"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "ok",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            }
        },
        "/api/v1/auth/user/getUserById/{id}": {
            "get": {
                "description": "获取用户详情描述",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "用户模块"
                ],
                "summary": "获取用户详情",
                "parameters": [
                    {
                        "type": "integer",
                        "description": "username",
                        "name": "id",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "ok",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            }
        },
        "/api/v1/public/user/analysis/{id}": {
            "get": {
                "description": "获取用户详情描述",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "用户模块"
                ],
                "summary": "获取用户详情",
                "parameters": [
                    {
                        "type": "integer",
                        "description": "username",
                        "name": "id",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "ok",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            }
        },
        "/api/v1/public/user/login": {
            "post": {
                "description": "用户注册详细描述",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "用户模块"
                ],
                "summary": "添加用户",
                "parameters": [
                    {
                        "type": "string",
                        "name": "password",
                        "in": "formData",
                        "required": true
                    },
                    {
                        "type": "string",
                        "name": "username",
                        "in": "formData",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "ok",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            }
        },
        "/api/v1/public/user/scanResult": {
            "get": {
                "description": "获取用户详情描述",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "用户模块"
                ],
                "summary": "获取用户详情",
                "parameters": [
                    {
                        "description": "Page",
                        "name": "page",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/api.Page"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "ok",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            }
        },
        "/bk/accounts": {
            "get": {
                "description": "获取当前用户的所有账户",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "BookkeepingAccount"
                ],
                "summary": "获取账户列表",
                "parameters": [
                    {
                        "type": "string",
                        "description": "令牌",
                        "name": "x-token",
                        "in": "header",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "获取成功",
                        "schema": {
                            "allOf": [
                                {
                                    "$ref": "#/definitions/response.Response"
                                },
                                {
                                    "type": "object",
                                    "properties": {
                                        "data": {
                                            "type": "array",
                                            "items": {
                                                "$ref": "#/definitions/dto.AccountResponse"
                                            }
                                        },
                                        "msg": {
                                            "type": "string"
                                        }
                                    }
                                }
                            ]
                        }
                    },
                    "500": {
                        "description": "服务器内部错误",
                        "schema": {
                            "allOf": [
                                {
                                    "$ref": "#/definitions/response.Response"
                                },
                                {
                                    "type": "object",
                                    "properties": {
                                        "msg": {
                                            "type": "string"
                                        }
                                    }
                                }
                            ]
                        }
                    }
                }
            },
            "post": {
                "description": "用户创建一个新的账户",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "BookkeepingAccount"
                ],
                "summary": "创建账户",
                "parameters": [
                    {
                        "type": "string",
                        "description": "令牌",
                        "name": "x-token",
                        "in": "header",
                        "required": true
                    },
                    {
                        "description": "账户信息",
                        "name": "account_info",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/dto.CreateAccountRequest"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "创建成功",
                        "schema": {
                            "allOf": [
                                {
                                    "$ref": "#/definitions/response.Response"
                                },
                                {
                                    "type": "object",
                                    "properties": {
                                        "data": {
                                            "$ref": "#/definitions/dto.AccountResponse"
                                        },
                                        "msg": {
                                            "type": "string"
                                        }
                                    }
                                }
                            ]
                        }
                    },
                    "400": {
                        "description": "请求参数错误",
                        "schema": {
                            "allOf": [
                                {
                                    "$ref": "#/definitions/response.Response"
                                },
                                {
                                    "type": "object",
                                    "properties": {
                                        "msg": {
                                            "type": "string"
                                        }
                                    }
                                }
                            ]
                        }
                    },
                    "500": {
                        "description": "服务器内部错误",
                        "schema": {
                            "allOf": [
                                {
                                    "$ref": "#/definitions/response.Response"
                                },
                                {
                                    "type": "object",
                                    "properties": {
                                        "msg": {
                                            "type": "string"
                                        }
                                    }
                                }
                            ]
                        }
                    }
                }
            }
        },
        "/bk/accounts/{id}": {
            "get": {
                "description": "获取指定ID的账户详细信息",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "BookkeepingAccount"
                ],
                "summary": "获取单个账户信息",
                "parameters": [
                    {
                        "type": "string",
                        "description": "令牌",
                        "name": "x-token",
                        "in": "header",
                        "required": true
                    },
                    {
                        "type": "integer",
                        "description": "账户ID",
                        "name": "id",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "获取成功",
                        "schema": {
                            "allOf": [
                                {
                                    "$ref": "#/definitions/response.Response"
                                },
                                {
                                    "type": "object",
                                    "properties": {
                                        "data": {
                                            "$ref": "#/definitions/dto.AccountResponse"
                                        },
                                        "msg": {
                                            "type": "string"
                                        }
                                    }
                                }
                            ]
                        }
                    },
                    "400": {
                        "description": "请求参数错误",
                        "schema": {
                            "allOf": [
                                {
                                    "$ref": "#/definitions/response.Response"
                                },
                                {
                                    "type": "object",
                                    "properties": {
                                        "msg": {
                                            "type": "string"
                                        }
                                    }
                                }
                            ]
                        }
                    },
                    "404": {
                        "description": "账户不存在",
                        "schema": {
                            "allOf": [
                                {
                                    "$ref": "#/definitions/response.Response"
                                },
                                {
                                    "type": "object",
                                    "properties": {
                                        "msg": {
                                            "type": "string"
                                        }
                                    }
                                }
                            ]
                        }
                    },
                    "500": {
                        "description": "服务器内部错误",
                        "schema": {
                            "allOf": [
                                {
                                    "$ref": "#/definitions/response.Response"
                                },
                                {
                                    "type": "object",
                                    "properties": {
                                        "msg": {
                                            "type": "string"
                                        }
                                    }
                                }
                            ]
                        }
                    }
                }
            },
            "put": {
                "description": "更新指定ID的账户信息",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "BookkeepingAccount"
                ],
                "summary": "更新账户信息",
                "parameters": [
                    {
                        "type": "string",
                        "description": "令牌",
                        "name": "x-token",
                        "in": "header",
                        "required": true
                    },
                    {
                        "type": "integer",
                        "description": "账户ID",
                        "name": "id",
                        "in": "path",
                        "required": true
                    },
                    {
                        "description": "账户信息",
                        "name": "account_info",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/dto.UpdateAccountRequest"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "更新成功",
                        "schema": {
                            "allOf": [
                                {
                                    "$ref": "#/definitions/response.Response"
                                },
                                {
                                    "type": "object",
                                    "properties": {
                                        "data": {
                                            "$ref": "#/definitions/dto.AccountResponse"
                                        },
                                        "msg": {
                                            "type": "string"
                                        }
                                    }
                                }
                            ]
                        }
                    },
                    "400": {
                        "description": "请求参数错误",
                        "schema": {
                            "allOf": [
                                {
                                    "$ref": "#/definitions/response.Response"
                                },
                                {
                                    "type": "object",
                                    "properties": {
                                        "msg": {
                                            "type": "string"
                                        }
                                    }
                                }
                            ]
                        }
                    },
                    "404": {
                        "description": "账户不存在",
                        "schema": {
                            "allOf": [
                                {
                                    "$ref": "#/definitions/response.Response"
                                },
                                {
                                    "type": "object",
                                    "properties": {
                                        "msg": {
                                            "type": "string"
                                        }
                                    }
                                }
                            ]
                        }
                    },
                    "500": {
                        "description": "服务器内部错误",
                        "schema": {
                            "allOf": [
                                {
                                    "$ref": "#/definitions/response.Response"
                                },
                                {
                                    "type": "object",
                                    "properties": {
                                        "msg": {
                                            "type": "string"
                                        }
                                    }
                                }
                            ]
                        }
                    }
                }
            },
            "delete": {
                "description": "删除指定ID的账户",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "BookkeepingAccount"
                ],
                "summary": "删除账户",
                "parameters": [
                    {
                        "type": "string",
                        "description": "令牌",
                        "name": "x-token",
                        "in": "header",
                        "required": true
                    },
                    {
                        "type": "integer",
                        "description": "账户ID",
                        "name": "id",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "删除成功",
                        "schema": {
                            "allOf": [
                                {
                                    "$ref": "#/definitions/response.Response"
                                },
                                {
                                    "type": "object",
                                    "properties": {
                                        "msg": {
                                            "type": "string"
                                        }
                                    }
                                }
                            ]
                        }
                    },
                    "400": {
                        "description": "请求参数错误",
                        "schema": {
                            "allOf": [
                                {
                                    "$ref": "#/definitions/response.Response"
                                },
                                {
                                    "type": "object",
                                    "properties": {
                                        "msg": {
                                            "type": "string"
                                        }
                                    }
                                }
                            ]
                        }
                    },
                    "404": {
                        "description": "账户不存在",
                        "schema": {
                            "allOf": [
                                {
                                    "$ref": "#/definitions/response.Response"
                                },
                                {
                                    "type": "object",
                                    "properties": {
                                        "msg": {
                                            "type": "string"
                                        }
                                    }
                                }
                            ]
                        }
                    },
                    "500": {
                        "description": "服务器内部错误",
                        "schema": {
                            "allOf": [
                                {
                                    "$ref": "#/definitions/response.Response"
                                },
                                {
                                    "type": "object",
                                    "properties": {
                                        "msg": {
                                            "type": "string"
                                        }
                                    }
                                }
                            ]
                        }
                    }
                }
            }
        },
        "/bk/budgets": {
            "get": {
                "description": "获取预算列表，支持分页和筛选",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "预算管理"
                ],
                "summary": "获取预算列表",
                "parameters": [
                    {
                        "type": "integer",
                        "default": 1,
                        "description": "页码",
                        "name": "page",
                        "in": "query",
                        "required": true
                    },
                    {
                        "type": "integer",
                        "default": 10,
                        "description": "每页大小",
                        "name": "page_size",
                        "in": "query",
                        "required": true
                    },
                    {
                        "type": "string",
                        "description": "预算类型 (overall, category)",
                        "name": "type",
                        "in": "query"
                    },
                    {
                        "type": "string",
                        "description": "预算周期 (weekly, monthly, yearly)",
                        "name": "period",
                        "in": "query"
                    },
                    {
                        "type": "integer",
                        "description": "分类ID（仅当筛选分类预算时使用）",
                        "name": "category_id",
                        "in": "query"
                    },
                    {
                        "type": "boolean",
                        "description": "是否激活",
                        "name": "is_active",
                        "in": "query"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/dto.BudgetListResponse"
                        }
                    }
                }
            },
            "post": {
                "description": "创建新的预算",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "预算管理"
                ],
                "summary": "创建预算",
                "parameters": [
                    {
                        "description": "预算信息",
                        "name": "request",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/dto.CreateBudgetRequest"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/dto.BudgetResponse"
                        }
                    }
                }
            }
        },
        "/bk/budgets/active-progress": {
            "get": {
                "description": "获取所有激活的预算及其当前执行进度",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "预算管理"
                ],
                "summary": "获取所有激活预算的进度",
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "type": "array",
                            "items": {
                                "$ref": "#/definitions/dto.BudgetProgressResponse"
                            }
                        }
                    }
                }
            }
        },
        "/bk/budgets/alerts": {
            "get": {
                "description": "获取达到或超过提醒阈值的预算列表",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "预算管理"
                ],
                "summary": "检查预算警告",
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "type": "array",
                            "items": {
                                "$ref": "#/definitions/dto.BudgetProgressResponse"
                            }
                        }
                    }
                }
            }
        },
        "/bk/budgets/{id}": {
            "get": {
                "description": "获取单个预算的详细信息",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "预算管理"
                ],
                "summary": "获取预算详情",
                "parameters": [
                    {
                        "type": "integer",
                        "description": "预算ID",
                        "name": "id",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/dto.BudgetResponse"
                        }
                    }
                }
            },
            "put": {
                "description": "更新预算信息",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "预算管理"
                ],
                "summary": "更新预算",
                "parameters": [
                    {
                        "type": "integer",
                        "description": "预算ID",
                        "name": "id",
                        "in": "path",
                        "required": true
                    },
                    {
                        "description": "更新信息",
                        "name": "request",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/dto.UpdateBudgetRequest"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/dto.BudgetResponse"
                        }
                    }
                }
            },
            "delete": {
                "description": "删除预算",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "预算管理"
                ],
                "summary": "删除预算",
                "parameters": [
                    {
                        "type": "integer",
                        "description": "预算ID",
                        "name": "id",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/response.Response"
                        }
                    }
                }
            }
        },
        "/bk/budgets/{id}/progress": {
            "get": {
                "description": "获取单个预算的当前执行进度",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "预算管理"
                ],
                "summary": "获取预算进度",
                "parameters": [
                    {
                        "type": "integer",
                        "description": "预算ID",
                        "name": "id",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/dto.BudgetProgressResponse"
                        }
                    }
                }
            }
        },
        "/bk/categories": {
            "get": {
                "description": "获取用户的所有分类，支持按类型过滤，并以层级结构返回顶级分类及其子分类",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "BookkeepingCategory"
                ],
                "summary": "获取分类列表 (层级)",
                "parameters": [
                    {
                        "type": "string",
                        "description": "令牌",
                        "name": "x-token",
                        "in": "header",
                        "required": true
                    },
                    {
                        "type": "string",
                        "description": "分类类型 (income/expense)",
                        "name": "type",
                        "in": "query"
                    },
                    {
                        "type": "integer",
                        "description": "父分类ID (查询指定父分类下的子分类，0表示顶级分类)",
                        "name": "parent_id",
                        "in": "query"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "获取成功",
                        "schema": {
                            "allOf": [
                                {
                                    "$ref": "#/definitions/response.Response"
                                },
                                {
                                    "type": "object",
                                    "properties": {
                                        "data": {
                                            "type": "array",
                                            "items": {
                                                "$ref": "#/definitions/dto.CategoryResponse"
                                            }
                                        },
                                        "msg": {
                                            "type": "string"
                                        }
                                    }
                                }
                            ]
                        }
                    },
                    "500": {
                        "description": "服务器内部错误",
                        "schema": {
                            "allOf": [
                                {
                                    "$ref": "#/definitions/response.Response"
                                },
                                {
                                    "type": "object",
                                    "properties": {
                                        "msg": {
                                            "type": "string"
                                        }
                                    }
                                }
                            ]
                        }
                    }
                }
            },
            "post": {
                "description": "用户创建一个新的收支分类",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "BookkeepingCategory"
                ],
                "summary": "创建分类",
                "parameters": [
                    {
                        "type": "string",
                        "description": "令牌",
                        "name": "x-token",
                        "in": "header",
                        "required": true
                    },
                    {
                        "description": "分类信息",
                        "name": "category_info",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/dto.CreateCategoryRequest"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "创建成功",
                        "schema": {
                            "allOf": [
                                {
                                    "$ref": "#/definitions/response.Response"
                                },
                                {
                                    "type": "object",
                                    "properties": {
                                        "data": {
                                            "$ref": "#/definitions/dto.CategoryResponse"
                                        },
                                        "msg": {
                                            "type": "string"
                                        }
                                    }
                                }
                            ]
                        }
                    },
                    "400": {
                        "description": "请求参数错误",
                        "schema": {
                            "allOf": [
                                {
                                    "$ref": "#/definitions/response.Response"
                                },
                                {
                                    "type": "object",
                                    "properties": {
                                        "msg": {
                                            "type": "string"
                                        }
                                    }
                                }
                            ]
                        }
                    },
                    "500": {
                        "description": "服务器内部错误",
                        "schema": {
                            "allOf": [
                                {
                                    "$ref": "#/definitions/response.Response"
                                },
                                {
                                    "type": "object",
                                    "properties": {
                                        "msg": {
                                            "type": "string"
                                        }
                                    }
                                }
                            ]
                        }
                    }
                }
            }
        },
        "/bk/categories/flat": {
            "get": {
                "description": "获取用户的所有分类，以扁平列表形式返回，主要用于下拉选择框等场景",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "BookkeepingCategory"
                ],
                "summary": "获取所有分类列表 (扁平)",
                "parameters": [
                    {
                        "type": "string",
                        "description": "令牌",
                        "name": "x-token",
                        "in": "header",
                        "required": true
                    },
                    {
                        "type": "string",
                        "description": "分类类型 (income/expense)",
                        "name": "type",
                        "in": "query"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "获取成功",
                        "schema": {
                            "allOf": [
                                {
                                    "$ref": "#/definitions/response.Response"
                                },
                                {
                                    "type": "object",
                                    "properties": {
                                        "data": {
                                            "type": "array",
                                            "items": {
                                                "$ref": "#/definitions/dto.CategoryResponse"
                                            }
                                        },
                                        "msg": {
                                            "type": "string"
                                        }
                                    }
                                }
                            ]
                        }
                    },
                    "500": {
                        "description": "服务器内部错误",
                        "schema": {
                            "allOf": [
                                {
                                    "$ref": "#/definitions/response.Response"
                                },
                                {
                                    "type": "object",
                                    "properties": {
                                        "msg": {
                                            "type": "string"
                                        }
                                    }
                                }
                            ]
                        }
                    }
                }
            }
        },
        "/bk/categories/{id}": {
            "get": {
                "description": "根据ID获取用户的单个分类信息，包含子分类",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "BookkeepingCategory"
                ],
                "summary": "获取单个分类信息",
                "parameters": [
                    {
                        "type": "string",
                        "description": "令牌",
                        "name": "x-token",
                        "in": "header",
                        "required": true
                    },
                    {
                        "type": "integer",
                        "description": "分类ID",
                        "name": "id",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "获取成功",
                        "schema": {
                            "allOf": [
                                {
                                    "$ref": "#/definitions/response.Response"
                                },
                                {
                                    "type": "object",
                                    "properties": {
                                        "data": {
                                            "$ref": "#/definitions/dto.CategoryResponse"
                                        },
                                        "msg": {
                                            "type": "string"
                                        }
                                    }
                                }
                            ]
                        }
                    },
                    "400": {
                        "description": "请求参数错误",
                        "schema": {
                            "allOf": [
                                {
                                    "$ref": "#/definitions/response.Response"
                                },
                                {
                                    "type": "object",
                                    "properties": {
                                        "msg": {
                                            "type": "string"
                                        }
                                    }
                                }
                            ]
                        }
                    },
                    "404": {
                        "description": "分类不存在",
                        "schema": {
                            "allOf": [
                                {
                                    "$ref": "#/definitions/response.Response"
                                },
                                {
                                    "type": "object",
                                    "properties": {
                                        "msg": {
                                            "type": "string"
                                        }
                                    }
                                }
                            ]
                        }
                    },
                    "500": {
                        "description": "服务器内部错误",
                        "schema": {
                            "allOf": [
                                {
                                    "$ref": "#/definitions/response.Response"
                                },
                                {
                                    "type": "object",
                                    "properties": {
                                        "msg": {
                                            "type": "string"
                                        }
                                    }
                                }
                            ]
                        }
                    }
                }
            },
            "put": {
                "description": "根据ID更新用户的分类信息",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "BookkeepingCategory"
                ],
                "summary": "更新分类信息",
                "parameters": [
                    {
                        "type": "string",
                        "description": "令牌",
                        "name": "x-token",
                        "in": "header",
                        "required": true
                    },
                    {
                        "type": "integer",
                        "description": "分类ID",
                        "name": "id",
                        "in": "path",
                        "required": true
                    },
                    {
                        "description": "待更新的分类信息",
                        "name": "category_info",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/dto.UpdateCategoryRequest"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "更新成功",
                        "schema": {
                            "allOf": [
                                {
                                    "$ref": "#/definitions/response.Response"
                                },
                                {
                                    "type": "object",
                                    "properties": {
                                        "data": {
                                            "$ref": "#/definitions/dto.CategoryResponse"
                                        },
                                        "msg": {
                                            "type": "string"
                                        }
                                    }
                                }
                            ]
                        }
                    },
                    "400": {
                        "description": "请求参数错误",
                        "schema": {
                            "allOf": [
                                {
                                    "$ref": "#/definitions/response.Response"
                                },
                                {
                                    "type": "object",
                                    "properties": {
                                        "msg": {
                                            "type": "string"
                                        }
                                    }
                                }
                            ]
                        }
                    },
                    "404": {
                        "description": "分类不存在",
                        "schema": {
                            "allOf": [
                                {
                                    "$ref": "#/definitions/response.Response"
                                },
                                {
                                    "type": "object",
                                    "properties": {
                                        "msg": {
                                            "type": "string"
                                        }
                                    }
                                }
                            ]
                        }
                    },
                    "500": {
                        "description": "服务器内部错误",
                        "schema": {
                            "allOf": [
                                {
                                    "$ref": "#/definitions/response.Response"
                                },
                                {
                                    "type": "object",
                                    "properties": {
                                        "msg": {
                                            "type": "string"
                                        }
                                    }
                                }
                            ]
                        }
                    }
                }
            },
            "delete": {
                "description": "根据ID删除用户的分类",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "BookkeepingCategory"
                ],
                "summary": "删除分类",
                "parameters": [
                    {
                        "type": "string",
                        "description": "令牌",
                        "name": "x-token",
                        "in": "header",
                        "required": true
                    },
                    {
                        "type": "integer",
                        "description": "分类ID",
                        "name": "id",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "删除成功",
                        "schema": {
                            "allOf": [
                                {
                                    "$ref": "#/definitions/response.Response"
                                },
                                {
                                    "type": "object",
                                    "properties": {
                                        "msg": {
                                            "type": "string"
                                        }
                                    }
                                }
                            ]
                        }
                    },
                    "400": {
                        "description": "请求参数错误",
                        "schema": {
                            "allOf": [
                                {
                                    "$ref": "#/definitions/response.Response"
                                },
                                {
                                    "type": "object",
                                    "properties": {
                                        "msg": {
                                            "type": "string"
                                        }
                                    }
                                }
                            ]
                        }
                    },
                    "404": {
                        "description": "分类不存在",
                        "schema": {
                            "allOf": [
                                {
                                    "$ref": "#/definitions/response.Response"
                                },
                                {
                                    "type": "object",
                                    "properties": {
                                        "msg": {
                                            "type": "string"
                                        }
                                    }
                                }
                            ]
                        }
                    },
                    "500": {
                        "description": "服务器内部错误",
                        "schema": {
                            "allOf": [
                                {
                                    "$ref": "#/definitions/response.Response"
                                },
                                {
                                    "type": "object",
                                    "properties": {
                                        "msg": {
                                            "type": "string"
                                        }
                                    }
                                }
                            ]
                        }
                    }
                }
            }
        },
        "/bk/transactions": {
            "get": {
                "description": "获取当前用户的交易流水记录，支持分页和筛选",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "BookkeepingTransaction"
                ],
                "summary": "获取交易流水列表",
                "parameters": [
                    {
                        "type": "string",
                        "description": "令牌",
                        "name": "x-token",
                        "in": "header",
                        "required": true
                    },
                    {
                        "type": "integer",
                        "description": "页码，默认1",
                        "name": "page",
                        "in": "query"
                    },
                    {
                        "type": "integer",
                        "description": "每页数量，默认20",
                        "name": "page_size",
                        "in": "query"
                    },
                    {
                        "type": "integer",
                        "description": "账户ID筛选",
                        "name": "account_id",
                        "in": "query"
                    },
                    {
                        "type": "integer",
                        "description": "分类ID筛选",
                        "name": "category_id",
                        "in": "query"
                    },
                    {
                        "type": "string",
                        "description": "交易类型筛选 (income, expense, transfer)",
                        "name": "type",
                        "in": "query"
                    },
                    {
                        "type": "string",
                        "description": "开始日期筛选 (YYYY-MM-DD)",
                        "name": "start_date",
                        "in": "query"
                    },
                    {
                        "type": "string",
                        "description": "结束日期筛选 (YYYY-MM-DD)",
                        "name": "end_date",
                        "in": "query"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "获取成功",
                        "schema": {
                            "allOf": [
                                {
                                    "$ref": "#/definitions/response.Response"
                                },
                                {
                                    "type": "object",
                                    "properties": {
                                        "data": {
                                            "$ref": "#/definitions/dto.TransactionListResponse"
                                        },
                                        "msg": {
                                            "type": "string"
                                        }
                                    }
                                }
                            ]
                        }
                    },
                    "400": {
                        "description": "请求参数错误",
                        "schema": {
                            "allOf": [
                                {
                                    "$ref": "#/definitions/response.Response"
                                },
                                {
                                    "type": "object",
                                    "properties": {
                                        "msg": {
                                            "type": "string"
                                        }
                                    }
                                }
                            ]
                        }
                    },
                    "500": {
                        "description": "服务器内部错误",
                        "schema": {
                            "allOf": [
                                {
                                    "$ref": "#/definitions/response.Response"
                                },
                                {
                                    "type": "object",
                                    "properties": {
                                        "msg": {
                                            "type": "string"
                                        }
                                    }
                                }
                            ]
                        }
                    }
                }
            },
            "post": {
                "description": "用户创建一个新的交易记录",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "BookkeepingTransaction"
                ],
                "summary": "创建交易流水",
                "parameters": [
                    {
                        "type": "string",
                        "description": "令牌",
                        "name": "x-token",
                        "in": "header",
                        "required": true
                    },
                    {
                        "description": "交易信息",
                        "name": "transaction_info",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/dto.CreateTransactionRequest"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "创建成功",
                        "schema": {
                            "allOf": [
                                {
                                    "$ref": "#/definitions/response.Response"
                                },
                                {
                                    "type": "object",
                                    "properties": {
                                        "data": {
                                            "$ref": "#/definitions/dto.TransactionResponse"
                                        },
                                        "msg": {
                                            "type": "string"
                                        }
                                    }
                                }
                            ]
                        }
                    },
                    "400": {
                        "description": "请求参数错误",
                        "schema": {
                            "allOf": [
                                {
                                    "$ref": "#/definitions/response.Response"
                                },
                                {
                                    "type": "object",
                                    "properties": {
                                        "msg": {
                                            "type": "string"
                                        }
                                    }
                                }
                            ]
                        }
                    },
                    "500": {
                        "description": "服务器内部错误",
                        "schema": {
                            "allOf": [
                                {
                                    "$ref": "#/definitions/response.Response"
                                },
                                {
                                    "type": "object",
                                    "properties": {
                                        "msg": {
                                            "type": "string"
                                        }
                                    }
                                }
                            ]
                        }
                    }
                }
            }
        },
        "/bk/transactions/{id}": {
            "get": {
                "description": "获取指定ID的交易流水详细信息",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "BookkeepingTransaction"
                ],
                "summary": "获取单个交易流水信息",
                "parameters": [
                    {
                        "type": "string",
                        "description": "令牌",
                        "name": "x-token",
                        "in": "header",
                        "required": true
                    },
                    {
                        "type": "integer",
                        "description": "交易流水ID",
                        "name": "id",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "获取成功",
                        "schema": {
                            "allOf": [
                                {
                                    "$ref": "#/definitions/response.Response"
                                },
                                {
                                    "type": "object",
                                    "properties": {
                                        "data": {
                                            "$ref": "#/definitions/dto.TransactionResponse"
                                        },
                                        "msg": {
                                            "type": "string"
                                        }
                                    }
                                }
                            ]
                        }
                    },
                    "400": {
                        "description": "请求参数错误",
                        "schema": {
                            "allOf": [
                                {
                                    "$ref": "#/definitions/response.Response"
                                },
                                {
                                    "type": "object",
                                    "properties": {
                                        "msg": {
                                            "type": "string"
                                        }
                                    }
                                }
                            ]
                        }
                    },
                    "404": {
                        "description": "交易记录不存在",
                        "schema": {
                            "allOf": [
                                {
                                    "$ref": "#/definitions/response.Response"
                                },
                                {
                                    "type": "object",
                                    "properties": {
                                        "msg": {
                                            "type": "string"
                                        }
                                    }
                                }
                            ]
                        }
                    },
                    "500": {
                        "description": "服务器内部错误",
                        "schema": {
                            "allOf": [
                                {
                                    "$ref": "#/definitions/response.Response"
                                },
                                {
                                    "type": "object",
                                    "properties": {
                                        "msg": {
                                            "type": "string"
                                        }
                                    }
                                }
                            ]
                        }
                    }
                }
            },
            "put": {
                "description": "更新指定ID的交易流水信息",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "BookkeepingTransaction"
                ],
                "summary": "更新交易流水信息",
                "parameters": [
                    {
                        "type": "string",
                        "description": "令牌",
                        "name": "x-token",
                        "in": "header",
                        "required": true
                    },
                    {
                        "type": "integer",
                        "description": "交易流水ID",
                        "name": "id",
                        "in": "path",
                        "required": true
                    },
                    {
                        "description": "交易信息",
                        "name": "transaction_info",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/dto.UpdateTransactionRequest"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "更新成功",
                        "schema": {
                            "allOf": [
                                {
                                    "$ref": "#/definitions/response.Response"
                                },
                                {
                                    "type": "object",
                                    "properties": {
                                        "data": {
                                            "$ref": "#/definitions/dto.TransactionResponse"
                                        },
                                        "msg": {
                                            "type": "string"
                                        }
                                    }
                                }
                            ]
                        }
                    },
                    "400": {
                        "description": "请求参数错误",
                        "schema": {
                            "allOf": [
                                {
                                    "$ref": "#/definitions/response.Response"
                                },
                                {
                                    "type": "object",
                                    "properties": {
                                        "msg": {
                                            "type": "string"
                                        }
                                    }
                                }
                            ]
                        }
                    },
                    "404": {
                        "description": "交易记录不存在",
                        "schema": {
                            "allOf": [
                                {
                                    "$ref": "#/definitions/response.Response"
                                },
                                {
                                    "type": "object",
                                    "properties": {
                                        "msg": {
                                            "type": "string"
                                        }
                                    }
                                }
                            ]
                        }
                    },
                    "500": {
                        "description": "服务器内部错误",
                        "schema": {
                            "allOf": [
                                {
                                    "$ref": "#/definitions/response.Response"
                                },
                                {
                                    "type": "object",
                                    "properties": {
                                        "msg": {
                                            "type": "string"
                                        }
                                    }
                                }
                            ]
                        }
                    }
                }
            },
            "delete": {
                "description": "删除指定ID的交易流水",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "BookkeepingTransaction"
                ],
                "summary": "删除交易流水",
                "parameters": [
                    {
                        "type": "string",
                        "description": "令牌",
                        "name": "x-token",
                        "in": "header",
                        "required": true
                    },
                    {
                        "type": "integer",
                        "description": "交易流水ID",
                        "name": "id",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "删除成功",
                        "schema": {
                            "allOf": [
                                {
                                    "$ref": "#/definitions/response.Response"
                                },
                                {
                                    "type": "object",
                                    "properties": {
                                        "msg": {
                                            "type": "string"
                                        }
                                    }
                                }
                            ]
                        }
                    },
                    "400": {
                        "description": "请求参数错误",
                        "schema": {
                            "allOf": [
                                {
                                    "$ref": "#/definitions/response.Response"
                                },
                                {
                                    "type": "object",
                                    "properties": {
                                        "msg": {
                                            "type": "string"
                                        }
                                    }
                                }
                            ]
                        }
                    },
                    "404": {
                        "description": "交易记录不存在",
                        "schema": {
                            "allOf": [
                                {
                                    "$ref": "#/definitions/response.Response"
                                },
                                {
                                    "type": "object",
                                    "properties": {
                                        "msg": {
                                            "type": "string"
                                        }
                                    }
                                }
                            ]
                        }
                    },
                    "500": {
                        "description": "服务器内部错误",
                        "schema": {
                            "allOf": [
                                {
                                    "$ref": "#/definitions/response.Response"
                                },
                                {
                                    "type": "object",
                                    "properties": {
                                        "msg": {
                                            "type": "string"
                                        }
                                    }
                                }
                            ]
                        }
                    }
                }
            }
        },
        "/statistics/account-summary": {
            "get": {
                "description": "获取所有账户的余额汇总信息",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "统计"
                ],
                "summary": "获取账户余额汇总",
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "type": "array",
                            "items": {
                                "$ref": "#/definitions/dto.AccountSummaryItem"
                            }
                        }
                    }
                }
            }
        },
        "/statistics/category-summary": {
            "get": {
                "description": "获取指定时间范围内的分类汇总信息",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "统计"
                ],
                "summary": "获取分类汇总",
                "parameters": [
                    {
                        "type": "string",
                        "description": "自定义结束日期（当 range_type 为 custom 时必填）",
                        "name": "end_date",
                        "in": "query"
                    },
                    {
                        "type": "integer",
                        "description": "查询的月份数量，用于月度趋势统计",
                        "name": "months_count",
                        "in": "query"
                    },
                    {
                        "enum": [
                            "day",
                            "week",
                            "month",
                            "year",
                            "all",
                            "custom"
                        ],
                        "type": "string",
                        "description": "时间范围类型",
                        "name": "range_type",
                        "in": "query",
                        "required": true
                    },
                    {
                        "type": "string",
                        "description": "自定义开始日期（当 range_type 为 custom 时必填）",
                        "name": "start_date",
                        "in": "query"
                    },
                    {
                        "enum": [
                            "income",
                            "expense"
                        ],
                        "type": "string",
                        "description": "交易类型：收入或支出",
                        "name": "transaction_type",
                        "in": "query",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "type": "array",
                            "items": {
                                "$ref": "#/definitions/dto.CategorySummaryItem"
                            }
                        }
                    }
                }
            }
        },
        "/statistics/income-expense-summary": {
            "get": {
                "description": "获取指定时间范围内的收支汇总信息",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "统计"
                ],
                "summary": "获取收支汇总",
                "parameters": [
                    {
                        "type": "string",
                        "description": "自定义结束日期（当 range_type 为 custom 时必填）",
                        "name": "end_date",
                        "in": "query"
                    },
                    {
                        "type": "integer",
                        "description": "查询的月份数量，用于月度趋势统计",
                        "name": "months_count",
                        "in": "query"
                    },
                    {
                        "enum": [
                            "day",
                            "week",
                            "month",
                            "year",
                            "all",
                            "custom"
                        ],
                        "type": "string",
                        "description": "时间范围类型",
                        "name": "range_type",
                        "in": "query",
                        "required": true
                    },
                    {
                        "type": "string",
                        "description": "自定义开始日期（当 range_type 为 custom 时必填）",
                        "name": "start_date",
                        "in": "query"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/dto.IncomeExpenseSummaryResponse"
                        }
                    }
                }
            }
        },
        "/statistics/monthly-trend": {
            "get": {
                "description": "获取最近几个月的收支趋势数据",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "统计"
                ],
                "summary": "获取月度收支趋势",
                "parameters": [
                    {
                        "type": "integer",
                        "default": 12,
                        "description": "查询的月份数量，默认为12",
                        "name": "months_count",
                        "in": "query"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/dto.MonthlyTrendResponse"
                        }
                    }
                }
            }
        }
    },
    "definitions": {
        "api.Page": {
            "type": "object",
            "properties": {
                "pageIndex": {
                    "type": "integer"
                },
                "pageSize": {
                    "type": "integer"
                }
            }
        },
        "dto.AccountResponse": {
            "type": "object",
            "properties": {
                "created_at": {
                    "type": "string"
                },
                "current_balance": {
                    "type": "number"
                },
                "id": {
                    "type": "integer"
                },
                "initial_balance": {
                    "type": "number"
                },
                "is_default": {
                    "type": "boolean"
                },
                "name": {
                    "type": "string"
                },
                "remark": {
                    "type": "string"
                },
                "type": {
                    "$ref": "#/definitions/model.AccountType"
                },
                "updated_at": {
                    "type": "string"
                },
                "user_id": {
                    "type": "integer"
                }
            }
        },
        "dto.AccountSummaryItem": {
            "type": "object",
            "properties": {
                "account_id": {
                    "description": "账户ID",
                    "type": "integer"
                },
                "account_name": {
                    "description": "账户名称",
                    "type": "string"
                },
                "account_type": {
                    "description": "账户类型",
                    "type": "string"
                },
                "current_balance": {
                    "description": "当前余额",
                    "type": "number"
                },
                "initial_balance": {
                    "description": "初始余额",
                    "type": "number"
                }
            }
        },
        "dto.AddUserDto": {
            "type": "object",
            "required": [
                "email",
                "password",
                "phone",
                "username"
            ],
            "properties": {
                "email": {
                    "type": "string"
                },
                "password": {
                    "type": "string"
                },
                "phone": {
                    "type": "string"
                },
                "username": {
                    "type": "string"
                }
            }
        },
        "dto.BudgetListResponse": {
            "type": "object",
            "properties": {
                "items": {
                    "description": "预算列表",
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/dto.BudgetResponse"
                    }
                },
                "total": {
                    "description": "总数",
                    "type": "integer"
                }
            }
        },
        "dto.BudgetProgressResponse": {
            "type": "object",
            "properties": {
                "amount": {
                    "description": "预算金额",
                    "type": "number"
                },
                "category": {
                    "description": "关联的分类",
                    "allOf": [
                        {
                            "$ref": "#/definitions/dto.Category"
                        }
                    ]
                },
                "category_id": {
                    "description": "分类ID",
                    "type": "integer"
                },
                "created_at": {
                    "description": "创建时间",
                    "type": "string"
                },
                "current_period": {
                    "description": "当前预算周期",
                    "type": "object",
                    "properties": {
                        "end_date": {
                            "description": "当前周期结束日期",
                            "type": "string"
                        },
                        "start_date": {
                            "description": "当前周期开始日期",
                            "type": "string"
                        }
                    }
                },
                "days_remaining": {
                    "description": "周期内剩余天数",
                    "type": "integer"
                },
                "description": {
                    "description": "备注",
                    "type": "string"
                },
                "id": {
                    "description": "预算ID",
                    "type": "integer"
                },
                "is_active": {
                    "description": "是否激活",
                    "type": "boolean"
                },
                "is_over_budget": {
                    "description": "是否超出预算",
                    "type": "boolean"
                },
                "name": {
                    "description": "预算名称",
                    "type": "string"
                },
                "notify_rate": {
                    "description": "提醒阈值",
                    "type": "number"
                },
                "period": {
                    "description": "预算周期",
                    "type": "string"
                },
                "remaining_amount": {
                    "description": "剩余金额",
                    "type": "number"
                },
                "spent_amount": {
                    "description": "已花费金额",
                    "type": "number"
                },
                "start_date": {
                    "description": "开始日期",
                    "type": "string"
                },
                "type": {
                    "description": "预算类型",
                    "type": "string"
                },
                "updated_at": {
                    "description": "更新时间",
                    "type": "string"
                },
                "usage_rate": {
                    "description": "使用率 (0-1.0)",
                    "type": "number"
                },
                "user_id": {
                    "description": "用户ID",
                    "type": "integer"
                }
            }
        },
        "dto.BudgetResponse": {
            "type": "object",
            "properties": {
                "amount": {
                    "description": "预算金额",
                    "type": "number"
                },
                "category": {
                    "description": "关联的分类",
                    "allOf": [
                        {
                            "$ref": "#/definitions/dto.Category"
                        }
                    ]
                },
                "category_id": {
                    "description": "分类ID",
                    "type": "integer"
                },
                "created_at": {
                    "description": "创建时间",
                    "type": "string"
                },
                "description": {
                    "description": "备注",
                    "type": "string"
                },
                "id": {
                    "description": "预算ID",
                    "type": "integer"
                },
                "is_active": {
                    "description": "是否激活",
                    "type": "boolean"
                },
                "name": {
                    "description": "预算名称",
                    "type": "string"
                },
                "notify_rate": {
                    "description": "提醒阈值",
                    "type": "number"
                },
                "period": {
                    "description": "预算周期",
                    "type": "string"
                },
                "start_date": {
                    "description": "开始日期",
                    "type": "string"
                },
                "type": {
                    "description": "预算类型",
                    "type": "string"
                },
                "updated_at": {
                    "description": "更新时间",
                    "type": "string"
                },
                "user_id": {
                    "description": "用户ID",
                    "type": "integer"
                }
            }
        },
        "dto.Category": {
            "type": "object",
            "properties": {
                "icon": {
                    "type": "string"
                },
                "id": {
                    "type": "integer"
                },
                "name": {
                    "type": "string"
                },
                "parent_id": {
                    "type": "integer"
                },
                "type": {
                    "type": "string"
                }
            }
        },
        "dto.CategoryResponse": {
            "type": "object",
            "properties": {
                "created_at": {
                    "type": "string"
                },
                "icon": {
                    "type": "string"
                },
                "id": {
                    "type": "integer"
                },
                "name": {
                    "type": "string"
                },
                "parent_id": {
                    "type": "integer"
                },
                "sort_order": {
                    "type": "integer"
                },
                "sub_categories": {
                    "description": "子分类列表 (递归展示)",
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/dto.CategoryResponse"
                    }
                },
                "type": {
                    "$ref": "#/definitions/model.CategoryType"
                },
                "updated_at": {
                    "type": "string"
                },
                "user_id": {
                    "type": "integer"
                }
            }
        },
        "dto.CategorySummaryItem": {
            "type": "object",
            "properties": {
                "category_icon": {
                    "description": "分类图标",
                    "type": "string"
                },
                "category_id": {
                    "description": "分类ID",
                    "type": "integer"
                },
                "category_name": {
                    "description": "分类名称",
                    "type": "string"
                },
                "total_amount": {
                    "description": "总金额",
                    "type": "number"
                },
                "transaction_count": {
                    "description": "交易笔数",
                    "type": "integer"
                }
            }
        },
        "dto.CreateAccountRequest": {
            "type": "object",
            "required": [
                "name",
                "type"
            ],
            "properties": {
                "initial_balance": {
                    "description": "初始余额",
                    "type": "number",
                    "minimum": 0
                },
                "is_default": {
                    "description": "是否默认账户",
                    "type": "boolean"
                },
                "name": {
                    "description": "账户名称",
                    "type": "string",
                    "maxLength": 100,
                    "minLength": 1
                },
                "remark": {
                    "description": "备注",
                    "type": "string",
                    "maxLength": 255
                },
                "type": {
                    "description": "账户类型",
                    "allOf": [
                        {
                            "$ref": "#/definitions/model.AccountType"
                        }
                    ]
                }
            }
        },
        "dto.CreateBudgetRequest": {
            "type": "object",
            "required": [
                "amount",
                "name",
                "period",
                "start_date",
                "type"
            ],
            "properties": {
                "amount": {
                    "description": "预算金额",
                    "type": "number"
                },
                "category_id": {
                    "description": "分类ID",
                    "type": "integer"
                },
                "description": {
                    "description": "备注",
                    "type": "string"
                },
                "is_active": {
                    "description": "是否激活",
                    "type": "boolean"
                },
                "name": {
                    "description": "预算名称",
                    "type": "string"
                },
                "notify_rate": {
                    "description": "提醒阈值",
                    "type": "number",
                    "maximum": 1,
                    "minimum": 0
                },
                "period": {
                    "description": "预算周期",
                    "type": "string",
                    "enum": [
                        "weekly",
                        "monthly",
                        "yearly"
                    ]
                },
                "start_date": {
                    "description": "开始日期",
                    "type": "string"
                },
                "type": {
                    "description": "预算类型",
                    "type": "string",
                    "enum": [
                        "overall",
                        "category"
                    ]
                }
            }
        },
        "dto.CreateCategoryRequest": {
            "type": "object",
            "required": [
                "name",
                "type"
            ],
            "properties": {
                "icon": {
                    "description": "图标 (可选)",
                    "type": "string",
                    "maxLength": 100
                },
                "name": {
                    "description": "分类名称",
                    "type": "string",
                    "maxLength": 100,
                    "minLength": 1
                },
                "parent_id": {
                    "description": "父分类ID (可选)",
                    "type": "integer"
                },
                "sort_order": {
                    "description": "排序字段 (可选)",
                    "type": "integer"
                },
                "type": {
                    "description": "分类类型 (income, expense)",
                    "enum": [
                        "income",
                        "expense"
                    ],
                    "allOf": [
                        {
                            "$ref": "#/definitions/model.CategoryType"
                        }
                    ]
                }
            }
        },
        "dto.CreateTransactionRequest": {
            "type": "object",
            "required": [
                "account_id",
                "amount",
                "category_id",
                "transaction_date",
                "type"
            ],
            "properties": {
                "account_id": {
                    "description": "账户ID",
                    "type": "integer"
                },
                "amount": {
                    "description": "金额",
                    "type": "number"
                },
                "category_id": {
                    "description": "分类ID",
                    "type": "integer"
                },
                "notes": {
                    "description": "备注",
                    "type": "string",
                    "maxLength": 255
                },
                "payee_payer": {
                    "description": "收款方/付款方",
                    "type": "string",
                    "maxLength": 100
                },
                "transaction_date": {
                    "description": "交易日期 (YYYY-MM-DD)",
                    "type": "string"
                },
                "type": {
                    "description": "交易类型",
                    "enum": [
                        "income",
                        "expense",
                        "transfer"
                    ],
                    "allOf": [
                        {
                            "$ref": "#/definitions/model.TransactionType"
                        }
                    ]
                }
            }
        },
        "dto.IncomeExpenseSummaryResponse": {
            "type": "object",
            "properties": {
                "end_date": {
                    "description": "统计结束日期",
                    "type": "string"
                },
                "net_amount": {
                    "description": "净收入（收入-支出）",
                    "type": "number"
                },
                "range_type": {
                    "description": "时间范围类型（day, week, month, year, all, custom）",
                    "type": "string"
                },
                "start_date": {
                    "description": "统计开始日期",
                    "type": "string"
                },
                "total_expense": {
                    "description": "总支出",
                    "type": "number"
                },
                "total_income": {
                    "description": "总收入",
                    "type": "number"
                }
            }
        },
        "dto.MonthlyData": {
            "type": "object",
            "properties": {
                "month": {
                    "description": "月份",
                    "type": "integer"
                },
                "month_label": {
                    "description": "月份标签，格式：YYYY-MM",
                    "type": "string"
                },
                "net_amount": {
                    "description": "该月净收入（收入-支出）",
                    "type": "number"
                },
                "total_expense": {
                    "description": "该月总支出",
                    "type": "number"
                },
                "total_income": {
                    "description": "该月总收入",
                    "type": "number"
                },
                "year": {
                    "description": "年份",
                    "type": "integer"
                }
            }
        },
        "dto.MonthlyTrendResponse": {
            "type": "object",
            "properties": {
                "data": {
                    "description": "月度数据列表",
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/dto.MonthlyData"
                    }
                },
                "months_count": {
                    "description": "查询的月份数量",
                    "type": "integer"
                }
            }
        },
        "dto.TransactionListResponse": {
            "type": "object",
            "properties": {
                "items": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/dto.TransactionResponse"
                    }
                },
                "total": {
                    "type": "integer"
                }
            }
        },
        "dto.TransactionResponse": {
            "type": "object",
            "properties": {
                "account": {
                    "description": "关联信息",
                    "allOf": [
                        {
                            "$ref": "#/definitions/dto.AccountResponse"
                        }
                    ]
                },
                "account_id": {
                    "type": "integer"
                },
                "amount": {
                    "type": "number"
                },
                "category": {
                    "$ref": "#/definitions/dto.CategoryResponse"
                },
                "category_id": {
                    "type": "integer"
                },
                "created_at": {
                    "type": "string"
                },
                "id": {
                    "type": "integer"
                },
                "notes": {
                    "type": "string"
                },
                "payee_payer": {
                    "type": "string"
                },
                "transaction_date": {
                    "description": "格式化为 YYYY-MM-DD",
                    "type": "string"
                },
                "type": {
                    "$ref": "#/definitions/model.TransactionType"
                },
                "updated_at": {
                    "type": "string"
                },
                "user_id": {
                    "type": "integer"
                }
            }
        },
        "dto.UpdateAccountRequest": {
            "type": "object",
            "properties": {
                "is_default": {
                    "description": "是否默认账户",
                    "type": "boolean"
                },
                "name": {
                    "description": "账户名称",
                    "type": "string",
                    "maxLength": 100,
                    "minLength": 1
                },
                "remark": {
                    "description": "备注",
                    "type": "string",
                    "maxLength": 255
                },
                "type": {
                    "description": "账户类型",
                    "allOf": [
                        {
                            "$ref": "#/definitions/model.AccountType"
                        }
                    ]
                }
            }
        },
        "dto.UpdateBudgetRequest": {
            "type": "object",
            "properties": {
                "amount": {
                    "description": "预算金额",
                    "type": "number"
                },
                "category_id": {
                    "description": "分类ID",
                    "type": "integer"
                },
                "description": {
                    "description": "备注",
                    "type": "string"
                },
                "is_active": {
                    "description": "是否激活",
                    "type": "boolean"
                },
                "name": {
                    "description": "预算名称",
                    "type": "string"
                },
                "notify_rate": {
                    "description": "提醒阈值",
                    "type": "number",
                    "maximum": 1,
                    "minimum": 0
                },
                "period": {
                    "description": "预算周期",
                    "type": "string",
                    "enum": [
                        "weekly",
                        "monthly",
                        "yearly"
                    ]
                },
                "start_date": {
                    "description": "开始日期",
                    "type": "string"
                },
                "type": {
                    "description": "预算类型",
                    "type": "string",
                    "enum": [
                        "overall",
                        "category"
                    ]
                }
            }
        },
        "dto.UpdateCategoryRequest": {
            "type": "object",
            "properties": {
                "icon": {
                    "description": "图标 (可选)",
                    "type": "string",
                    "maxLength": 100
                },
                "name": {
                    "description": "分类名称 (可选)",
                    "type": "string",
                    "maxLength": 100,
                    "minLength": 1
                },
                "parent_id": {
                    "description": "父分类ID (可选, 注意: 如果要移除父分类，应传递null或不传递该字段，具体行为需在service层定义)",
                    "type": "integer"
                },
                "sort_order": {
                    "description": "排序字段 (可选)",
                    "type": "integer"
                },
                "type": {
                    "description": "分类类型 (可选)",
                    "enum": [
                        "income",
                        "expense"
                    ],
                    "allOf": [
                        {
                            "$ref": "#/definitions/model.CategoryType"
                        }
                    ]
                }
            }
        },
        "dto.UpdateTransactionRequest": {
            "type": "object",
            "properties": {
                "account_id": {
                    "description": "账户ID",
                    "type": "integer"
                },
                "amount": {
                    "description": "金额",
                    "type": "number"
                },
                "category_id": {
                    "description": "分类ID",
                    "type": "integer"
                },
                "notes": {
                    "description": "备注",
                    "type": "string",
                    "maxLength": 255
                },
                "payee_payer": {
                    "description": "收款方/付款方",
                    "type": "string",
                    "maxLength": 100
                },
                "transaction_date": {
                    "description": "交易日期",
                    "type": "string"
                },
                "type": {
                    "description": "交易类型",
                    "enum": [
                        "income",
                        "expense",
                        "transfer"
                    ],
                    "allOf": [
                        {
                            "$ref": "#/definitions/model.TransactionType"
                        }
                    ]
                }
            }
        },
        "model.AccountType": {
            "type": "string",
            "enum": [
                "cash",
                "savings",
                "credit_card",
                "alipay",
                "wechat_pay",
                "investment",
                "other"
            ],
            "x-enum-comments": {
                "AccountTypeAlipay": "支付宝",
                "AccountTypeCash": "现金",
                "AccountTypeCreditCard": "信用卡",
                "AccountTypeInvestment": "投资账户",
                "AccountTypeOther": "其他",
                "AccountTypeSavings": "储蓄卡",
                "AccountTypeWechatPay": "微信钱包"
            },
            "x-enum-varnames": [
                "AccountTypeCash",
                "AccountTypeSavings",
                "AccountTypeCreditCard",
                "AccountTypeAlipay",
                "AccountTypeWechatPay",
                "AccountTypeInvestment",
                "AccountTypeOther"
            ]
        },
        "model.CategoryType": {
            "type": "string",
            "enum": [
                "income",
                "expense"
            ],
            "x-enum-comments": {
                "CategoryTypeExpense": "支出分类",
                "CategoryTypeIncome": "收入分类"
            },
            "x-enum-varnames": [
                "CategoryTypeIncome",
                "CategoryTypeExpense"
            ]
        },
        "model.TransactionType": {
            "type": "string",
            "enum": [
                "income",
                "expense",
                "transfer"
            ],
            "x-enum-comments": {
                "TransactionTypeExpense": "支出",
                "TransactionTypeIncome": "收入",
                "TransactionTypeTransfer": "转账"
            },
            "x-enum-varnames": [
                "TransactionTypeIncome",
                "TransactionTypeExpense",
                "TransactionTypeTransfer"
            ]
        },
        "response.Response": {
            "type": "object",
            "properties": {
                "code": {
                    "type": "integer"
                },
                "data": {},
                "msg": {
                    "type": "string"
                }
            }
        }
    },
    "securityDefinitions": {
        "ApiKeyAuth": {
            "type": "apiKey",
            "name": "x-token",
            "in": "header"
        }
    }
}